<div align="center">
  <img src="./assets/hero-logo.svg" alt="Alternate Futures" width="600" />
</div>

# ✨ Alternate Futures Cloud Documentation ✨

This repository contains all documentation for the Alternate Futures platform, including:

- **Guides**: Platform usage guides and tutorials
- **CLI Documentation**: Auto-generated from the `cloud-cli` repository
- **SDK Documentation**: Auto-generated from the `cloud-sdk` repository

## Development

```bash
# Install dependencies
pnpm install

# Start dev server
pnpm run docs:dev

# Generate CLI docs from cloud-cli repo
pnpm run generate:cli

# Generate SDK docs from cloud-sdk repo
pnpm run generate:sdk

# Generate all docs
pnpm run generate:all

# Build for production
pnpm run build
```

## Documentation Structure

```
docs/
├── .vitepress/       # VitePress configuration
├── index.md          # Homepage
├── guides/           # Hand-written platform guides
│   ├── index.md
│   ├── quickstart.md
│   ├── authentication.md
│   ├── dashboard.md
│   ├── agents.md
│   ├── sites.md
│   ├── storage.md
│   ├── api-keys.md
│   └── billing.md
├── cli/              # Auto-generated CLI docs
│   ├── index.md
│   ├── installation.md
│   └── commands.md   # Generated from cloud-cli
└── sdk/              # Auto-generated SDK docs
    ├── index.md
    ├── installation.md
    └── api.md        # Generated from cloud-sdk (TypeDoc)
```

## Auto-Generation

### CLI Documentation

The CLI documentation is automatically generated by:
1. Running the generator script in the `cloud-cli` repository
2. The script outputs markdown files to this repository
3. Run `npm run generate:cli` to update

### SDK Documentation

The SDK documentation is automatically generated by:
1. Using TypeDoc to generate markdown from TypeScript source
2. The TypeDoc config in `cloud-sdk` points to this repository
3. Run `npm run generate:sdk` to update

## Branches

The repository uses three main branches:
- **main**: Production-ready code, deploys to https://docs.alternatefutures.com
- **staging**: Pre-production testing, deploys to https://docs-staging.alternatefutures.com
- **develop**: Active development, deploys to https://docs-dev.alternatefutures.com

## CI/CD

The documentation is automatically built and deployed to the Alternate Futures platform when:
1. Changes are pushed to `main`, `staging`, or `develop` branches
2. Manual workflow dispatch is triggered
3. The `cloud-cli` or `cloud-sdk` repositories are updated (triggers regeneration via repository dispatch)

### Deployment Workflows

Each branch has its own GitHub Actions workflow that automatically deploys to Alternate Futures:

- **Production** (`main` branch): `.github/workflows/af-deploy-production.yml`
- **Staging** (`staging` branch): `.github/workflows/af-deploy-staging.yml`
- **Develop** (`develop` branch): `.github/workflows/af-deploy-develop.yml`

All workflows use a common reusable workflow: `.github/workflows/af-deploy-common.yml`

The deployment process:
1. Checks out the docs repository and dependencies (cloud-cli, cloud-sdk)
2. Generates CLI and SDK documentation
3. Builds VitePress documentation
4. Deploys to Alternate Futures platform via `af sites deploy` command

### Required Secrets

Configure the following secrets in GitHub repository settings:
- `AF_API_KEY`: Alternate Futures API key (get from [app.alternatefutures.ai/api-keys](https://app.alternatefutures.ai/api-keys))
- `GH_PAT`: GitHub Personal Access Token (for accessing cloud-cli and cloud-sdk repos)

### Network Configuration

All deployments use IPFS network by default. This can be modified in the workflow files to use:
- `ipfs` - IPFS network (frequent updates, recommended for docs)
- `arweave` - Arweave network (permanent storage)
- `filecoin` - Filecoin network (large files)

## Deployment

Docs are deployed to:
- **Production**: https://docs.alternatefutures.com (from `main` branch)
- **Staging**: https://docs-staging.alternatefutures.com (from `staging` branch)
- **Develop**: https://docs-dev.alternatefutures.com (from `develop` branch)

## Contributing

1. Hand-written guides go in `docs/guides/`
2. CLI docs are generated - edit the source in `cloud-cli`
3. SDK docs are generated - edit the source in `cloud-sdk`
4. Configuration changes go in `docs/.vitepress/config.js`

## License

[GNU GPLv3](https://choosealicense.com/licenses/gpl-3.0/)

## Acknowledgements
The initial architecture and conceptual foundation of this project were derived from a fork of the Fleek.xyz platform.

As our project's requirements led to significant architectural changes, we have diverged from the original fork. However, we remain grateful to the Fleek team for their pioneering open-source contributions to decentralized application hosting and infrastructure.
